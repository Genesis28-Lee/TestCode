<UserControl x:Class="MyApp.Views.FolderBrowserDialog"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:vm="clr-namespace:MyApp.ViewModels"
             xmlns:local="clr-namespace:MyApp.Views">
    <UserControl.DataContext>
        <vm:FolderBrowserDialogViewModel/>
    </UserControl.DataContext>

    <DockPanel>
        <TextBlock Text="최근 사용한 폴더" FontWeight="Bold" Margin="5"/>
        <ItemsControl ItemsSource="{Binding RecentFolders}">
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <CheckBox Content="{Binding Path}" IsChecked="{Binding IsSelected, Mode=TwoWay}" />
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>

        <TextBlock Text="탐색" FontWeight="Bold" Margin="10,5,5,0"/>
        <TreeView ItemsSource="{Binding Folders}">
            <TreeView.ItemTemplate>
                <HierarchicalDataTemplate ItemsSource="{Binding SubFolders}">
                    <CheckBox Content="{Binding Path}" IsChecked="{Binding IsSelected, Mode=TwoWay}" />
                </HierarchicalDataTemplate>
            </TreeView.ItemTemplate>
        </TreeView>

        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
            <Button Content="취소" Command="{Binding CancelCommand}" Margin="5"/>
            <Button Content="선택" Command="{Binding SelectCommand}" Margin="5"/>
        </StackPanel>
    </DockPanel>
</UserControl>
